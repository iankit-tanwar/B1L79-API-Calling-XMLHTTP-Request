<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>B1L79 JSON API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body>
    <h1>API-Calling-XMLHTTP-Request</h1>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">id</th>
            <th scope="col">title</th>
            <th scope="col">price</th>
            <th scope="col">description</th>
           
          </tr>
        </thead>
        <tbody>
         
         
        </tbody>
      </table>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

    <script>


        class MyClass {
            //1Property

            //2 Constructor

            //3 Metods
            getName() {
                console.log("hello Ankit");
            }
        }

        let obj = new MyClass();

        obj.getName();

        //XMLHTTP resquest api class


        function getData(url,metods, mycbfn) {

            let xhr = new XMLHttpRequest();

            xhr.open(metods,url);

            xhr.send();

            xhr.onload = function (response) {
             console.log(typeof xhr.responseText)
                mycbfn(xhr.responseText);

              
            }

        }


        getData("https://fakestoreapi.com/products","GET", function (response) {

            console.log(typeof response);
            console.log(response);

            response = JSON.parse(response);

            console.log(typeof response);
            console.log(response);

            var tbody = document.querySelector('.table > tbody');

            response.forEach((element, index,arr) => {
                console.log(element);
                var tr = document.createElement('tr');
                var td1 = document.createElement('td');
                td1.innerHTML= element.id;
                var td2 = document.createElement('td');
                td2.innerHTML = element.title;
                var td3 = document.createElement('td');
                td3.innerHTML = element.price;
                var td4 = document.createElement('td');
                td4.innerHTML = element.description;

                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);

                tbody.appendChild(tr);

            });
        });
    </script>
</body>

</html>